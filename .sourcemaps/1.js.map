{"version":3,"sources":["../../src/pages/next-week-forecast/next-week-forecast.module.ts","../../src/pages/next-week-forecast/next-week-forecast.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NextWeekForecastPage } from './next-week-forecast';\n\n@NgModule({\n  declarations: [\n    NextWeekForecastPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(NextWeekForecastPage),\n  ],\n})\nexport class NextWeekForecastPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/next-week-forecast/next-week-forecast.module.ts","import { Component, OnInit }                   from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { IonicNativeService }                  from    '../../services/ionicnative.service';\nimport { DarkSkyApiService }                   from '../../services/darkskyapi.service';\nimport { error }                               from '@firebase/database/dist/esm/src/core/util/util';\nimport { DarkSkyApiDataPoint }                 from '../../models/darkskyapi-datapoint.model';\nimport { DarkSkyApiDataBlock }                 from '../../models/darkskyapi-datablock.model';\nimport { DarkSkyApiResponse }                  from '../../models/darkskyapi-response.model';\nimport { DarkSkyLanguages }                    from '../../config/darksky';\nimport { CONVERSION }                          from \"../../shared/conversion.module\";\nimport { IconSetter }                          from \"../../shared/icon-setter.module\";\nimport { IonicNativeGeoposition } from '../../models/ionicnative-geoposition.model';\n\n/**\n * Generated class for the NextWeekForecastPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-next-week-forecast',\n  templateUrl: 'next-week-forecast.html',\n})\nexport class NextWeekForecastPage implements OnInit {\n  \n  nextWeekForcast: DarkSkyApiDataBlock = new DarkSkyApiDataBlock();\n  defaultLang: string;\n\n  constructor(public navCtrl: NavController, \n    public navParams: NavParams, \n    private ionicNative: IonicNativeService,\n    private darkProvider: DarkSkyApiService ) {\n  }\n\n  ngOnInit() {\n    this.defaultLang = DarkSkyLanguages.French;\n    this.getNextWeekForecast();    \n  } \n  \n  private getNextWeekForecast() {\n\n    this.ionicNative.GetMyLocation()\n    .then(location => {\n      this.darkProvider.getCurrentForecast(location as IonicNativeGeoposition)\n      .subscribe(\n        (response) => {\n          console.log(response);\n          this.hydrate(response)\n        },\n        (error) => {\n          console.log('Something were wrong');\n        })\n    })\n    .catch(error => console.log('Failed to fetch response from API'))\n\n  } \n\n  private hydrate(response : DarkSkyApiResponse) {\n      // this.currentForecast = this.response.currently;\n      // this.currentForecast.placeName = this.response.timezone;\n      this.nextWeekForcast = response.daily;\n      this.nextWeekForcast.data.splice(0,1); // Removing the first data cause it represents the current day (today)\n      \n      // Loop for each element of next Week Forecast\n      this.nextWeekForcast.data.forEach((element,index) => {       \n        this.hydrateDayProperty(index, element);\n        IconSetter.setIconToEachForecast(element);\n        element.apparentTemperature = CONVERSION.convertToCelsius(element.apparentTemperature);\n        element.apparentTemperatureMax = CONVERSION.convertToCelsius(element.apparentTemperatureMax);\n        element.apparentTemperatureMin = CONVERSION.convertToCelsius(element.apparentTemperatureMin);\n        element.temperature = CONVERSION.convertToCelsius(element.temperature);\n      });\n      console.log(this.nextWeekForcast);\n  }  \n\n  /** Fill the property day of Forecast object with a \n   * readable day of week */\n  private hydrateDayProperty(index: number, day: DarkSkyApiDataPoint) {\n    \n    switch (this.defaultLang) {\n      case \"en\":\n        switch (index) {\n          case 0:\n            day.readableday = \"Monday\";\n            break;\n          case 1:\n            day.readableday = \"Tuesday\";\n            break;\n          case 2:\n            day.readableday = \"Wednesday\"\n            break;\n          case 3:\n            day.readableday = \"Thusday\";\n            break;\n          case 4:\n            day.readableday = \"Friday\";\n            break;\n          case 5:\n            day.readableday = \"Saturday\";\n            break;\n          case 6:\n            day.readableday = \"Sunday\";\n            break;\n          default:\n            break;\n        }        \n      break;\n      case \"fr\":\n        switch (index) {\n          case 0:\n            day.readableday = \"Lundi\";\n            break;\n          case 1:\n            day.readableday = \"Mardi\";\n            break;\n          case 2:\n            day.readableday = \"Mercredi\";\n            break;\n          case 3:\n            day.readableday = \"Jeudi\";\n            break;\n          case 4:\n            day.readableday = \"Vendredi\";\n            break;\n          case 5:\n            day.readableday = \"Samedi\";\n            break;\n          case 6:\n            day.readableday = \"Dimanche\";\n            break;\n          default:\n            break;\n        }\n        break; // fr\n    \n    //default language\n      default:\n        break;\n    }\n    \n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/next-week-forecast/next-week-forecast.ts"],"sourceRoot":""}