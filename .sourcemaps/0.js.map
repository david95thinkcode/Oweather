{"version":3,"sources":["../../src/pages/next-week-forecast/next-week-forecast.module.ts","../../src/pages/next-week-forecast/next-week-forecast.ts","../../src/shared/readableday.module.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule }             from '@angular/core';\nimport { IonicPageModule }      from 'ionic-angular';\nimport { NextWeekForecastPage } from './next-week-forecast';\nimport { ComponentsModule }     from '../../components/components.module';\n\n@NgModule({\n  declarations: [\n    NextWeekForecastPage,\n  ],\n  imports: [\n    ComponentsModule,\n    IonicPageModule.forChild(NextWeekForecastPage),\n  ],\n})\nexport class NextWeekForecastPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/next-week-forecast/next-week-forecast.module.ts","import { Component, OnInit }                   from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { IonicNativeService }                  from    '../../services/ionicnative.service';\nimport { DarkSkyApiService }                   from '../../services/darkskyapi.service';\nimport { error }                               from '@firebase/database/dist/esm/src/core/util/util';\nimport { DarkSkyApiDataPoint }                 from '../../models/darkskyapi-datapoint.model';\nimport { DarkSkyApiDataBlock }                 from '../../models/darkskyapi-datablock.model';\nimport { DarkSkyApiResponse }                  from '../../models/darkskyapi-response.model';\nimport { DarkSkyLanguages }                    from '../../config/darksky';\nimport { CONVERSION }                          from \"../../shared/conversion.module\";\nimport { IconSetter }                          from \"../../shared/icon-setter.module\";\nimport { ReadableDay }                         from '../../shared/readableday.module';\nimport { IonicNativeGeoposition }              from '../../models/ionicnative-geoposition.model';\n\n/**\n * Generated class for the NextWeekForecastPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-next-week-forecast',\n  templateUrl: 'next-week-forecast.html',\n})\nexport class NextWeekForecastPage implements OnInit {\n  \n  online: boolean = false;\n  nextWeekForcast: DarkSkyApiDataBlock = new DarkSkyApiDataBlock();\n  defaultLang: string;\n\n  constructor(public navCtrl: NavController, \n    public navParams: NavParams, \n    private ionicNative: IonicNativeService,\n    private darkProvider: DarkSkyApiService ) { }\n\n  ngOnInit() {\n    this.defaultLang = DarkSkyLanguages.French;    \n    if (this.online) {\n      this.getNextWeekForecast();\n    }        \n  } \n  \n\n  private getNextWeekForecast() {\n\n    this.ionicNative.GetMyLocation()\n    .then(location => {\n      this.darkProvider.getCurrentForecast(location as IonicNativeGeoposition)\n      .subscribe(\n        (response) => {\n          console.log(response);\n          this.hydrate(response)\n        },\n        (error) => {\n          console.log('Something were wrong');\n        })\n    })\n    .catch(error => console.log('Failed to fetch response from API'))\n\n  } \n\n  private hydrate(response : DarkSkyApiResponse) {\n      // this.currentForecast = this.response.currently;\n      // this.currentForecast.placeName = this.response.timezone;\n      this.nextWeekForcast = response.daily;\n      this.nextWeekForcast.data.splice(0,1); // Removing the first data cause it represents the current day (today)\n      \n      // Loop for each element of next Week Forecast\n      this.nextWeekForcast.data.forEach((element,index) => {\n        \n        element.readableday = ReadableDay.getReadableDayByIndex(index, this.defaultLang)\n        IconSetter.setIconToEachForecast(element);\n        \n        // Below, we convert all needed temperature to Celcius\n        element.apparentTemperature = CONVERSION.convertToCelsius(element.apparentTemperature);\n        element.apparentTemperatureMax = CONVERSION.convertToCelsius(element.apparentTemperatureMax);\n        element.apparentTemperatureMin = CONVERSION.convertToCelsius(element.apparentTemperatureMin);\n        element.temperature = CONVERSION.convertToCelsius(element.temperature);\n        element.temperatureMin = CONVERSION.convertToCelsius(element.temperatureMin);\n        element.temperatureMax = CONVERSION.convertToCelsius(element.temperatureMax);\n      });\n      console.log(this.nextWeekForcast);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/next-week-forecast/next-week-forecast.ts","export module ReadableDay {\n    \n    /**\n     * \n     * @param dayIndex Represents index of a day. Exemple : 0 => Monday\n     * @param language The language we want to parse the readable day string\n     */\n    export function getReadableDayByIndex(dayIndex: number, language: string) {\n        \n        let dayString: string;\n\n        switch (language) {\n            case 'fr':\n                switch (dayIndex) {\n                    case 0:\n                      dayString = \"Lundi\";\n                      break;\n                    case 1:\n                      dayString = \"Mardi\";\n                      break;\n                    case 2:\n                      dayString = \"Mercredi\";\n                      break;\n                    case 3:\n                      dayString = \"Jeudi\";\n                      break;\n                    case 4:\n                      dayString = \"Vendredi\";\n                      break;\n                    case 5:\n                      dayString = \"Samedi\";\n                      break;\n                    case 6:\n                      dayString = \"Dimanche\";\n                      break;\n                    default:\n                      break;\n                }\n                break;\n        \n            case 'en':\n                switch (dayIndex) {\n                    case 0:\n                      dayString = \"Monday\";\n                      break;\n                    case 1:\n                      dayString = \"Tuesday\";\n                      break;\n                    case 2:\n                      dayString = \"Wednesday\"\n                      break;\n                    case 3:\n                      dayString = \"Thusday\";\n                      break;\n                    case 4:\n                      dayString = \"Friday\";\n                      break;\n                    case 5:\n                      dayString = \"Saturday\";\n                      break;\n                    case 6:\n                      dayString = \"Sunday\";\n                      break;\n                    default:\n                      break;\n                }\n                break;\n            \n            default:\n                break;\n        }\n\n        return dayString;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/shared/readableday.module.ts"],"sourceRoot":""}